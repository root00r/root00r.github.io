
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">

<meta name="DC.Title" content="MPLS报文格式">
<meta name="DC.Relation" scheme="URI" content="../message/mpls-layer.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="eth_format_9">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<title>MPLS报文格式</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="eth_format_9"></a><a name="eth_format_9"></a>


<h1 class="topictitle1">MPLS报文格式</h1>

<div>
<div class="section"><h4 class="sectiontitle">报文格式</h4><p>MPLS 标签（Label）是一个短而定长的、只具有本地意义的标识符，用于唯一标识一个分组所属的FEC。在某些情况下，例如要进行负载分担，对应一个FEC可能会有多个入标签，但是一台路由器上，一个标签只能代表一个FEC。标签与ATM的VPI/VCI以及Frame
Relay的DLCI类似，是一种连接标识符。标签长度为4个字节，封装在链路层和网络层之间。这样，标签能够被任意的链路层所支持。标签在分组中的封装位置如下图所示。</p>
<div class="fignone"><span class="figcap"><b>图1 </b>MPLS报文格式</span>

<br><span><img src="image/mpls-format.png"></span></div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="14.666666666666666%" id="mcps1.2.1.4.1.4.1.1">字段</th>

<th class="cellrowborder" valign="top" width="13.333333333333334%" id="mcps1.2.1.4.1.4.1.2">长度</th>

<th class="cellrowborder" valign="top" width="72.00000000000001%" id="mcps1.2.1.4.1.4.1.3">含义</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" width="14.666666666666666%" headers="mcps1.2.1.4.1.4.1.1 ">Label</td>

<td class="cellrowborder" valign="top" width="13.333333333333334%" headers="mcps1.2.1.4.1.4.1.2 ">20比特</td>

<td class="cellrowborder" valign="top" width="72.00000000000001%" headers="mcps1.2.1.4.1.4.1.3 ">标签值字段，用来标识一个FEC。</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="14.666666666666666%" headers="mcps1.2.1.4.1.4.1.1 ">EXP</td>

<td class="cellrowborder" valign="top" width="13.333333333333334%" headers="mcps1.2.1.4.1.4.1.2 ">3比特</td>

<td class="cellrowborder" valign="top" width="72.00000000000001%" headers="mcps1.2.1.4.1.4.1.3 ">用于扩展。现在通常用做CoS（Class of Service），其作用与Ethernet802.1p的作用类似。</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="14.666666666666666%" headers="mcps1.2.1.4.1.4.1.1 ">S</td>

<td class="cellrowborder" valign="top" width="13.333333333333334%" headers="mcps1.2.1.4.1.4.1.2 ">1比特</td>

<td class="cellrowborder" valign="top" width="72.00000000000001%" headers="mcps1.2.1.4.1.4.1.3 ">MPLS支持多重标签。值为1时表示为最底层标签。</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="14.666666666666666%" headers="mcps1.2.1.4.1.4.1.1 ">TTL</td>

<td class="cellrowborder" valign="top" width="13.333333333333334%" headers="mcps1.2.1.4.1.4.1.2 ">8比特</td>

<td class="cellrowborder" valign="top" width="72.00000000000001%" headers="mcps1.2.1.4.1.4.1.3 ">和IP分组中的TTL意义相同，可以用来防止环路。</td>

</tr>

</tbody>

</table>
</div>
</div>

<div class="section"><h4 class="sectiontitle">报文示例</h4><div class="fignone"><span class="figcap"><b>图2 </b>MPLS报文（含2层标签）</span>

<br><span><img src="image/mpls-exmample.png"></span></div>
</div>

<div class="section"><h4 class="sectiontitle">参考标准</h4>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
<thead align="left">
<tr>

<th class="cellrowborder" valign="top" width="18%" id="mcps1.2.3.2.1.3.1.1">标准</th>

<th class="cellrowborder" valign="top" width="82%" id="mcps1.2.3.2.1.3.1.2">描述</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.3.2.1.3.1.1 ">RFC 3031</td>

<td class="cellrowborder" valign="top" width="82%" headers="mcps1.2.3.2.1.3.1.2 ">Multiprotocol Label Switching Architecture </td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.3.2.1.3.1.1 ">RFC 3032</td>

<td class="cellrowborder" valign="top" width="82%" headers="mcps1.2.3.2.1.3.1.2 ">MPLS Label Stack Encoding</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.3.2.1.3.1.1 ">RFC 3034</td>

<td class="cellrowborder" valign="top" width="82%" headers="mcps1.2.3.2.1.3.1.2 ">Use of Label Switching on Frame Relay Networks Specification </td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.3.2.1.3.1.1 ">RFC 3035</td>

<td class="cellrowborder" valign="top" width="82%" headers="mcps1.2.3.2.1.3.1.2 ">MPLS using LDP and ATM VC Switching </td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.3.2.1.3.1.1 ">RFC 2547</td>

<td class="cellrowborder" valign="top" width="82%" headers="mcps1.2.3.2.1.3.1.2 ">BGP/MPLS VPNs </td>

</tr>

</tbody>

</table>
</div>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="mpls-layer.html">MPLS层</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">本资料收集于互联网</div><div class="hwcopyright">2016 &copy</div></body>
</html>