
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">

<meta name="DC.Title" content="OSPFv3报文头格式">
<meta name="DC.Relation" scheme="URI" content="../message/ospfv3_message.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="ospf_message_format_9">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<title>OSPFv3报文头格式</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="ospf_message_format_9"></a><a name="ospf_message_format_9"></a>


<h1 class="topictitle1">OSPFv3报文头格式</h1>

<div>
<p>OSPFv3用IPv6报文直接封装协议报文，协议号为89，在IPv6 Next Header里标识。OSPFv3分为5种报文：Hello报文、DD报文、LSR报文、LSU报文和LSAck报文。</p>

<div class="section"><h4 class="sectiontitle">OSPFv3报文头格式</h4><p>OSPFv3这五种报文具有相同的报文头格式，长度为24字节。</p>
<p><span><img src="image/ospfv3-format-general.png"></span></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="12%" id="mcps1.2.2.4.1.4.1.1">字段</th>

<th class="cellrowborder" valign="top" width="22.666666666666668%" id="mcps1.2.2.4.1.4.1.2">长度</th>

<th class="cellrowborder" valign="top" width="65.33333333333333%" id="mcps1.2.2.4.1.4.1.3">含义</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" width="12%" headers="mcps1.2.2.4.1.4.1.1 ">Version</td>

<td class="cellrowborder" valign="top" width="22.666666666666668%" headers="mcps1.2.2.4.1.4.1.2 ">1字节</td>

<td class="cellrowborder" valign="top" width="65.33333333333333%" headers="mcps1.2.2.4.1.4.1.3 ">版本，OSPF的版本号。对于OSPFv3来说，其值为3。</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="12%" headers="mcps1.2.2.4.1.4.1.1 ">Type</td>

<td class="cellrowborder" valign="top" width="22.666666666666668%" headers="mcps1.2.2.4.1.4.1.2 ">1字节</td>

<td class="cellrowborder" valign="top" width="65.33333333333333%" headers="mcps1.2.2.4.1.4.1.3 ">类型，OSPFv3报文的类型，有下面几种类型：<ul><li>1：Hello报文；</li><li>2：DD报文；</li><li>3：LSR报文；</li><li>4：LSU报文；</li><li>5：LSAck报文。</li></ul>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="12%" headers="mcps1.2.2.4.1.4.1.1 ">Packet length</td>

<td class="cellrowborder" valign="top" width="22.666666666666668%" headers="mcps1.2.2.4.1.4.1.2 ">2字节</td>

<td class="cellrowborder" valign="top" width="65.33333333333333%" headers="mcps1.2.2.4.1.4.1.3 ">OSPFv3报文的总长度，包括报文头在内，单位为字节。</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="12%" headers="mcps1.2.2.4.1.4.1.1 ">Router ID</td>

<td class="cellrowborder" valign="top" width="22.666666666666668%" headers="mcps1.2.2.4.1.4.1.2 ">4字节</td>

<td class="cellrowborder" valign="top" width="65.33333333333333%" headers="mcps1.2.2.4.1.4.1.3 ">始发此包的路由器的Router ID。</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="12%" headers="mcps1.2.2.4.1.4.1.1 ">Area ID</td>

<td class="cellrowborder" valign="top" width="22.666666666666668%" headers="mcps1.2.2.4.1.4.1.2 ">4字节</td>

<td class="cellrowborder" valign="top" width="65.33333333333333%" headers="mcps1.2.2.4.1.4.1.3 ">发送该报文的所属区域。</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="12%" headers="mcps1.2.2.4.1.4.1.1 ">Checksum</td>

<td class="cellrowborder" valign="top" width="22.666666666666668%" headers="mcps1.2.2.4.1.4.1.2 ">2字节</td>

<td class="cellrowborder" valign="top" width="65.33333333333333%" headers="mcps1.2.2.4.1.4.1.3 ">使用IPv6标准16位校验和。校验内容包括前导的IPv6伪头和OSPF协议包头。伪头中的Upper-Layer Packet
Length字段值等于OSPF包头中的Packet length字段值。如果包长度不是16位的整数倍，则用0填充后进行计算。计算校验和时校验和字段本身设置为0。</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="12%" headers="mcps1.2.2.4.1.4.1.1 ">Instance ID</td>

<td class="cellrowborder" valign="top" width="22.666666666666668%" headers="mcps1.2.2.4.1.4.1.2 ">1字节</td>

<td class="cellrowborder" valign="top" width="65.33333333333333%" headers="mcps1.2.2.4.1.4.1.3 ">缺省值为0。允许在一个链路上运行多个OSPFv3的实例。每个实例应该具有唯一的Instance ID。Instance
ID只在本地链路上有意义。如果接收到的OSPF包的Instance ID和本接口的Instance ID不同，则丢弃这个包。</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="12%" headers="mcps1.2.2.4.1.4.1.1 ">0</td>

<td class="cellrowborder" valign="top" width="22.666666666666668%" headers="mcps1.2.2.4.1.4.1.2 ">1字节</td>

<td class="cellrowborder" valign="top" width="65.33333333333333%" headers="mcps1.2.2.4.1.4.1.3 ">保留字段，必须填0。</td>

</tr>

</tbody>

</table>
</div>
</div>

<div class="section"><h4 class="sectiontitle">参考标准</h4>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="18%" id="mcps1.2.3.2.1.3.1.1">标准</th>

<th class="cellrowborder" valign="top" width="82%" id="mcps1.2.3.2.1.3.1.2">描述</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.3.2.1.3.1.1 ">RFC 2740</td>

<td class="cellrowborder" valign="top" width="82%" headers="mcps1.2.3.2.1.3.1.2 ">OSPF for IPv6</td>

</tr>

</tbody>

</table>
</div>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="ospfv3_message.html">OSPFv3报文格式</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div> <div class="hwcopyright">2016 &copy</div></body>
</html>